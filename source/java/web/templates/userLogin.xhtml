<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:rich="http://richfaces.org/rich">

    <h:outputScript library="javascript" name="sha1.js" target="head"/>
    <script type="text/javascript">
        function hash_pass() {
            document.getElementById('form:hashpass').value = hex_sha1(document.getElementById('form:username').value+document.getElementById('form:password').value);
            if (document.getElementById('form:password').value != "") {document.getElementById('form:password').value = "usernamepass";}
        }
    </script>

    <h:outputStylesheet>
        .section {
            text-align: right;
            alignment: right;
            margin: 0px;
            padding: 0px;
        }

        .ui-messages-error-summary {
            font-size: 12px;
        }

        .ui-commandlink:link {
            text-decoration: none;
            color: black;
            font-size: 12px;
        }

        .ui-commandlink:visited {
            text-decoration: none;
            color: black;
            font-size: 12px;
        }

        .ui-commandlink:hover {
            text-decoration: none;
            color: black;
            background: green;
            font-size: 12px;
        }

        .ui-commandlink:active {
            text-decoration: none;
            color: black;
            background: #33ff2b;
            font-size: 12px;
        }
    </h:outputStylesheet>
    <h:panelGrid columns="3" columnClasses="section,section,section" style="border-collapse:collapse;border-spacing:0;width:auto;float: right;">
        <h:panelGroup>
        <h:form id="form">
            <p:growl id="msg1" showSummary="true" showDetail="true" globalOnly="true" life="6000" />
                <h:inputText id="username" value="#{sessionBean.userName}" required="true" requiredMessage="Не вказано!" size = "10"/>
            <h:message for="username" />
                <br />
                <h:inputSecret id="password" value="#{sessionBean.userPass}" required="true" requiredMessage="Не вказано!" size = "10"/>
            <h:message for="password" />
                <br />
                <h:commandLink id="login" value="Login" onclick="hash_pass()" action="#{sessionBean.login}" update="msg1" ajax="false" styleClass="ui-commandlink"/>


            <h:inputHidden id="hashpass" value="#{sessionBean.hashPass}"/>
        </h:form>
        </h:panelGroup>
        <h:panelGroup>
            <p:messages globalOnly="true" closable="true"/>
        </h:panelGroup>
        <h:panelGroup>
            <h:graphicImage value="/resources/images/users/noauthuser.png" title="Незарєгестрований користувач"/>
        </h:panelGroup>
    </h:panelGrid>
</ui:composition>
