<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:rich="http://richfaces.org/rich">

    <h:outputScript library="javascript" name="sha1.js" target="head"/>
    <script type="text/javascript">
        function hash_pass() {
            document.getElementById('form:hashpass').value = hex_sha1(document.getElementById('form:username').value+document.getElementById('form:password').value);
            if (document.getElementById('form:password').value != "") {document.getElementById('form:password').value = "Введіть пароль";}
        }
    </script>
    <h:outputScript library="javascript" name="jquery.easing.min.js" target="head"/>

    <h:outputStylesheet>
        .section {
            text-align: center;
            vertical-align: top;
            margin: 0px;
            padding: 0px;
        }

        .ui-messages-error-summary {
            font-size: 12px;
        }

        .ui-messages-error {
            margin: 0px
        }

        .ui-inputfield {
            font-weight: normal;
            margin: 0;
            outline: medium none;
            padding: 1px;
        }

        .ui-inplace {
            font-size: 12px;
        }

        .ui-state-default {
            background: #738078;
        }

        .ui-state-hover {
            background: green;
        }
        .ui-selectonemenu-label {
            background: gray;
        }
        .ui-panelgrid .ui-panelgrid-cell {
            text-align:center;
            padding:0;
            padding-left: 5px;
            border: none !important;
            background: #999 ;
            border-style: hidden !important;
            vertical-align: top;
        }

    </h:outputStylesheet>

    <h:panelGrid columns="3" columnClasses="section,section,section" style="border-collapse:collapse;border-spacing:0;width:auto;float: right;">
        <h:panelGroup>
        <h:form id="form">
            <p:growl id="msg1" showSummary="true" showDetail="true" globalOnly="true" sticky="true" />

            <p:inplace  emptyLabel="Введіть логін" >
                <p:inputText id="username" value="#{sessionBean.userName}" required="true" requiredMessage="Не вказано!" label="text" size = "10"/>
            </p:inplace>
            <br/>
            <p:inplace emptyLabel="Введіть пароль" >
                <p:password id="password" value="#{sessionBean.userPass}" required="true" requiredMessage="Не вказано!" size = "10"/>
            </p:inplace>

            <!--
            <h:inputText id="username" value="#{sessionBean.userName}" required="true" requiredMessage="Не вказано!" size = "10"/>
            <br/>
            <h:inputSecret id="password" value="#{sessionBean.userPass}" required="true" requiredMessage="Не вказано!" size = "10"/>
            -->
            <br/>

            <p:panelGrid id="pg" columns="2" style="border-spacing:0;">
            <p:selectOneMenu id="selLang" value="{#sessionBean.language}" panelStyle="width:100px" effect="fade" var="l" style="width:40px;font-size:12px;">
                <f:selectItems value="#{sessionBean.selectedLanguage}" var="language" itemLabel="#{language.langName}" itemValue="#{language}" />
                <p:column>
                    <p:graphicImage value="/resources/images/menu/#{l.langPict}" />
                </p:column>
                <p:column>
                    #{l.langName}
                </p:column>
            </p:selectOneMenu>

            <h:commandLink id="login" value="Login" onclick="hash_pass()" action="#{sessionBean.login}" update="msg1" ajax="false" styleClass="ui-commandlink"/>
            </p:panelGrid>
            <h:inputHidden id="hashpass" value="#{sessionBean.hashPass}"/>
        </h:form>
        </h:panelGroup>
        <h:panelGroup>
            <h:message for="username" style="color: #fff7a0;font-size: 14px;"/>
            <br/>
            <h:message for="password" style="color: #fff7a0;font-size: 14px;"/>
            <br/>
        </h:panelGroup>
        <h:panelGroup>
            <h:graphicImage value="/resources/images/users/noauthuser.png" title="Незарєгестрований користувач"/>
        </h:panelGroup>
    </h:panelGrid>
</ui:composition>
